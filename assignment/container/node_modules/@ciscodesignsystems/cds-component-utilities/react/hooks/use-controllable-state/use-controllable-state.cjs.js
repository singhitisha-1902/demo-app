'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var react = require('react');

function useControllableState({
  value: valueFromProps = undefined,
  onChange = undefined,
  defaultValue = undefined
}) {
  const isControlled = typeof valueFromProps !== 'undefined';
  const [internalValue, setInternalValue] = react.useState(defaultValue);
  const value = isControlled ? valueFromProps : internalValue;
  const setValue = react.useCallback(next => {
    const setter = next;
    const nextValue = typeof next === 'function' ? setter(value) : next;
    if (!isControlled) {
      setInternalValue(nextValue);
    }
    onChange === null || onChange === void 0 ? void 0 : onChange(nextValue);
  }, [isControlled, onChange, value]);
  return [value, setValue];
}

exports.useControllableState = useControllableState;
