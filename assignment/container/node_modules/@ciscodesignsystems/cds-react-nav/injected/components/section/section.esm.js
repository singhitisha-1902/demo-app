import { Children, isValidElement, cloneElement } from 'react';
import '../icon/icon.esm.js';
import '../menu/menu.esm.js';
import '../menu-label/menu-label.esm.js';
import '../menu-link/menu-link.esm.js';
import '../menu-section/menu-section.esm.js';
import { CDSNavItem } from '../nav-item/nav-item.esm.js';
import '../nav-item/nav-item-with-submenu.esm.js';
import '../nav-item/nav-item-base.esm.js';
import '../switcher/switcher.esm.js';

const CDSNavSection = ({
  children
}) => {
  const childrenArray = Children.toArray(children);
  return childrenArray.map((child, index) => {
    if (index === childrenArray.length - 1 && /*#__PURE__*/isValidElement(child) && child.type === CDSNavItem) {
      return /*#__PURE__*/cloneElement(child, {
        className: 'cds-nav__item--last-in-section'
      });
    }
    return child;
  });
};
CDSNavSection.displayName = 'CDSNav.Section';

export { CDSNavSection };
