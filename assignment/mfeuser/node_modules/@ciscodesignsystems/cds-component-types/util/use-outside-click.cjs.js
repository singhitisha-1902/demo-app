'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var react = require('react');

function useOutsideClick(ref, handler, ignoreRefs) {
  react.useEffect(() => {
    const listener = event => {
      // Do nothing if clicking ref's element or descendent elements
      const ignoreClick = [ref, ...(ignoreRefs !== null && ignoreRefs !== void 0 ? ignoreRefs : [])].some(curRef => {
        var _a;
        return (_a = curRef === null || curRef === void 0 ? void 0 : curRef.current) === null || _a === void 0 ? void 0 : _a.contains(event.target);
      });
      if (ignoreClick) {
        return;
      }
      handler(event);
    };
    document.addEventListener('mousedown', listener);
    document.addEventListener('touchstart', listener);
    return () => {
      document.removeEventListener('mousedown', listener);
      document.removeEventListener('touchstart', listener);
    };
  }, [ref, handler, ignoreRefs]);
}

exports.useOutsideClick = useOutsideClick;
