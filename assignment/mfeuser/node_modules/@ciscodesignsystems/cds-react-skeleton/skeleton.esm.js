import { cx } from '@ciscodesignsystems/cds-component-utilities';
import styles from './skeleton.module.esm.js';
import { createElement } from 'react';
import { jsx, Fragment } from 'react/jsx-runtime';

const CDSSkeleton = ({
  className = '',
  height = 'md',
  lines = 1,
  oblique = false,
  shade = 'regular',
  style,
  ...rest
}) => {
  const computedStyle = typeof height === 'number' ? {
    ...style,
    height
  } : style;
  const computedClassName = cx(styles, {
    'cds-skeleton': true,
    [`cds-skeleton--${height}`]: typeof height !== 'number',
    [`cds-skeleton--${shade}`]: true
  }, className);
  return /*#__PURE__*/jsx(Fragment, {
    children: Array(lines).fill(undefined).map((_, index) => {
      const uniqueKey = `item_${index}`;
      return /*#__PURE__*/createElement("div", {
        ...rest,
        className: computedClassName,
        key: uniqueKey,
        style: {
          ...computedStyle,
          ...(oblique ? {
            width: `${100 - 5 * index}%`
          } : {})
        }
      });
    })
  });
};

export { CDSSkeleton };
