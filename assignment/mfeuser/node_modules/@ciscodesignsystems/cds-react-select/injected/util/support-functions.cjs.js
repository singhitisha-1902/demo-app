'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

const tabIndex = withSearch => !withSearch ? {
  tabIndex: -1
} : {};
const handleBlurWhenFocusedOnOptionsDiv = ({
  isOpen,
  multiple,
  showSearchInput,
  focus,
  inputRef,
  parentRef
}) => {
  if (!isOpen && (multiple || showSearchInput) && focus.triggerManualFocus) {
    focus.triggerManualFocus = false;
    const displayRef = showSearchInput ? {
      ...inputRef
    } : {
      ...parentRef
    };
    setTimeout(() => {
      var _a, _b;
      if (document.activeElement !== displayRef.current) {
        (_a = displayRef.current) === null || _a === void 0 ? void 0 : _a.focus();
        (_b = displayRef.current) === null || _b === void 0 ? void 0 : _b.blur();
      }
    });
  }
};
const getSelectedValues = (value, selectedOptions, multiple) => {
  if (value && (selectedOptions === null || selectedOptions === void 0 ? void 0 : selectedOptions.length) === 0) {
    return value;
  }
  return selectedOptions === null || selectedOptions === void 0 ? void 0 : selectedOptions.map(option => {
    return option.value;
  }).join(multiple ? ',' : '');
};
const handleClear = (setInputValue, clearSearchValue, clearSelected, inputRef, onClear, multiple) => {
  setInputValue('');
  clearSearchValue();
  if (!multiple) {
    clearSelected();
  }
  if (inputRef.current && 'focus' in inputRef.current) {
    inputRef.current.focus();
  }
  onClear === null || onClear === void 0 ? void 0 : onClear();
};
const getPlaceholder = ({
  withSearch,
  withAdd,
  hasSelectedOptions,
  multiple,
  label,
  placeholder,
  withTags
}) => {
  if ((withSearch || withAdd) && hasSelectedOptions() && !multiple) return '';
  if (!withTags && label && multiple && hasSelectedOptions()) {
    return label;
  }
  return placeholder;
};

exports.getPlaceholder = getPlaceholder;
exports.getSelectedValues = getSelectedValues;
exports.handleBlurWhenFocusedOnOptionsDiv = handleBlurWhenFocusedOnOptionsDiv;
exports.handleClear = handleClear;
exports.tabIndex = tabIndex;
