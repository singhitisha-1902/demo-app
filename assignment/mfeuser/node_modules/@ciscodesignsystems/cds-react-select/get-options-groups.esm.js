const checkOptionsGroups = options => options.some(current => 'options' in current);
const flattenOptions = groups => {
  let flatOptions = [];
  for (const i in groups) {
    const options = groups[i]?.options || [];
    flatOptions = [...flatOptions, ...options];
  }
  return flatOptions;
};
const getOptionsGroups = options => {
  const hasOptionsGroups = checkOptionsGroups(options);
  const groupedOptions = [...options];
  const flatOptions = hasOptionsGroups ? flattenOptions(options) : options;
  return {
    flatOptions,
    groupedOptions,
    hasOptionsGroups
  };
};

export { checkOptionsGroups, getOptionsGroups };
