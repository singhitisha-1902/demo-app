# cds-react-popover

Popovers are an informational contained layer that appear when users hover over, focus on, click on, or tap an element. Unlike a tooltip, that can only contain simple text, they can include longer text, rich content such as images and charts, and interactive elements such as links and buttons.

> [Design Guidelines](https://magnetic.cisco.com/0a43ab5cd/p/727988-popover)

## Installation

NPM: `npm i @ciscodesignsystems/cds-react-popover`

Yarn: `yarn add @ciscodesignsystems/cds-react-popover`

## Styling and Theme Installation

You will also need to install the styling and needed theme files.

NPM: `npm i @ciscodesignsystems/cds-magnetic-theme-web`

Yarn: `yarn add @ciscodesignsystems/cds-magnetic-theme-web`

Then import the following into your app's css:

```css
@import '@ciscodesignsystems/cds-magnetic-theme-web/css/dist/token-theme-light-variables.css';
@import '@ciscodesignsystems/cds-react-popover/index.css';
```

## Dependencies

### Required

These dependencies must be met in your product:

- [react](https://www.npmjs.com/package/react) >=16.14.0
- [react-dom](https://www.npmjs.com/package/react-dom) >=16.14.0
- @ciscodesignsystems/cds-component-utilities

### Optional

Optional dependencies will vary depending on your product needs, but may include the following components:

- phosphor-react

## Usage

### Popover displayed on click

```tsx
export const Component = () => {
  const usePopoverInitialState = () => {
    const [open, setOpen] = useState(false);
    const toggleOpen = useCallback(() => setOpen((prev) => !prev), [setOpen]);

    return {
      open,
      setOpen,
      toggleOpen,
    };
  };
  const { setOpen, toggleOpen, open } = usePopoverInitialState();
  return (
    <CDSPopover
      open={open}
      setOpen={setOpen}
      title={
        <p>
          Laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in
          voluptate velit esse cillum dolore eu fugiat nulla pariatur.
          <a href="#">OptionalTextLink</a>
        </p>
      }>
      <CDSButton onClick={toggleOpen}>Click here to Open Popover</CDSButton>
    </CDSPopover>
  );
};
```

### Popover displayed on hover

```tsx
export const Component = () => {
  return (
    <CDSPopover
      title={
        <p>
          Laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in
          voluptate velit esse cillum dolore eu fugiat nulla pariatur.
          <a href="#">OptionalTextLink</a>
        </p>
      }>
      <MapPin size={48} />
    </CDSPopover>
  );
};
```

### Popover displayed with section seperation

```tsx
export const Component = () => {
  return (
    <CDSPopover
      title={
        <>
          <p>
            Laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit
            in voluptate velit esse cillum dolore eu fugiat nulla pariatur.
            <a href="#">OptionalTextLink</a>
          </p>
          <CDSPopover.Divider />
          <p> Another section data goes here</p>
        </>
      }>
      <MapPin size={48} />
    </CDSPopover>
  );
};
```

## Props

### CDSPopover

| Name                   | Description                                                                                                                                                | Required | Default   |
| ---------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------- | -------- | --------- |
| children               | Child element on which popover displays via click/hover/tap/focus                                                                                          | yes      | -         |
| disabled               | Disables the hover (mouseevents) on children element                                                                                                       | no       | false     |
| open                   | To open/close the popover                                                                                                                                  | no       | undefined |
| offset                 | To maintain gap between element and popover window                                                                                                         | no       | 10        |
| placement              | Defines placement of the popover                                                                                                                           | no       | top       |
| setOpen                | This setter method is to maintain open/close state                                                                                                         | no       | undefined |
| showArrow              | To display arrow between element and popover window.                                                                                                       | no       | true      |
| size                   | To define the size of popover (small, medium, large)                                                                                                       | no       | md        |
| title                  | Add popover content                                                                                                                                        | yes      | -         |
| variant                | To define popover type (map, feature-highlight, default)                                                                                                   | no       | default   |
| autoPlacement          | Enables the fallback “no space” strategy. Ensures the preferred placement is kept unless there is no space left.                                           | no       | true      |
| root                   | Optionally specifies the root node, the portal container will be appended to.                                                                              | no       | null      |
| preserveTabOrder       | This will preserve the tab order context based on the React tree instead of the DOM tree.                                                                  | no       | true      |
| updateOnAnimationFrame | Whether to update the position of the floating element on every animation frame if required. While optimized for performance, it should be used sparingly. | no       | false     |

### CDSPopover.Divider

No specific props, hr tag attributes can be used.
